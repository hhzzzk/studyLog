# CV_3w_1_영상 처리의 세가지 기본연산

```
2.4.1 점 연산 : 오직 자신의 명암값에 따라 새로운 값을 결정
2.4.2 영역 연산 : 이웃 화소의 명암값에 따라 새로운 값 결정
2.4.3 기하 연산 : 일정한 기하 연산으로 결정된 화소의 명암값에 따라 새로운 값 결정
```

## 점 연산

점 연산을 식으로 쓰면 대부분은 k=1, 즉 한 장의 영상을 변환한다.

- 선형 연산 :  +,-를 활용한 연산
- 비선형 연산 : 감마 수정(모니터나 프린터 색상 조절에 사용)
  - 특정 구간의 명암을 많이 변화시키거나 적게 변화시키는 방법
- 디졸브 : k=2, 영화의 페이드인, 페이드 아웃
  - 화면 전환을 0-1 사이의 알파 값을 사용해 한번에 전환하지 않고 자연스럽게 넘어가도록 하는 방법
  - f1에서 f2로의 전환![img](https://velog.velcdn.com/images/3eung_h10n/post/69318e7b-b198-4556-a4f1-f4e44738199e/image.png)



## 영역 연산

2차원 영상에서의 연산

- Smoothing ,sharpening, measuring texture의 효과
- 각각의 픽셀에 대해 그 주변의 픽셀 정보를 활용한 연산 방법
- 패턴 추출, 화질 증가 등에 활용 가능

상관(correlation)

- 입력 영상에 주어진 윈도우(필터)를 씌우는 방식
  - 영상의 학 픽셀마다 윈도우의 중앙을 맞춤
  - 윈도우와 영상의 같은 위치에 있는 값을 각각 곱하고 더함
  - 모두 더한 값이 처음 고른 영상의 한 픽셀의 값이 됨
  - ​







#### 영역 연산(필터링)

- 2차원 영상에서의 연산

  - Smoothing, sharpening, measuring texture의 효과
  - 각각의 픽셀에 대해서 그 주변의 픽셀의 정보를 활용한 연산 방법
  - 패턴 추출, 화질 증가 등에 활용 가능

- 상관(correlation)

  - 입력 영상에 주어진 윈도우(필터)를 씌우는 방식

    - 영상의 한 픽셀마다 윈도우의 중앙을 맞춤

    - 윈도우와 영상의 같은 위치에 있는 값을 각각 곱하고 더함

    - 모두 더한 값이 처음 고른 영상의 한 픽셀의 값이 됨

    - 1차원에서의 상관 연산

      ![img](https://velog.velcdn.com/images/3eung_h10n/post/31b4fbb3-fe28-44f8-a797-fffd2b40a126/image.png)

- 컨볼루션

  - 윈도우를 뒤집은 후에 상관을 적용
  - 2차원 상관 연산
    - 입력 영상의 값이 0이어도 주변의 값에 따라 픽셀이 바뀔 수 있음
    - 윈도우의 중앙에 맞추고 연산 후 해당 결과를 한 픽셀에 적용 하는 방법은 동일 함



- 상관, 컨볼루션의 차이
  - ![img](https://velog.velcdn.com/images/3eung_h10n/post/da882fca-3ab9-461d-b4f7-efeb9ab5654b/image.png)
  - 상관은 연산 후 결과값이 윈도우와 반대로 나옴
  - 윈도우의 특성을 그대로 적용 시키기 위해 윈도우를 뒤집은 후 연산하는 컨볼루션이 존재하고 더 많이 사용함



컨볼루션 예제

- 박스 필터 : 주변 픽셀들의 평균값으로 바꾸는 역할 -> 주변과의 경계를 줄여줌
- 샤프닝 필터 : 내가 가지고 있는 픽셀은 강조, 주변은 감소 -> 주변과 내 자신의 경계를 뚜렷하게 함
- 수평 엣지 : 세로 방향의 변화를 강조
- 수직 헷지 : 가로 방향의 변화를 강조
- 모션 : 움직임의 느낌

![img](https://velog.velcdn.com/images/3eung_h10n/post/f37151aa-2bf1-4f1f-a29d-f5acd81a47fc/image.png)

- 박스 필터 예시

  - 윈도우의 넓이만큼 나눠 평균을 구해서 적용하는 방식(윈도우가 3*3이면 9로 나누기)

  ![img](https://velog.velcdn.com/images/3eung_h10n/post/334db55d-8ca5-40da-9e74-7da4a0f4de29/image.png)

  - 주변의 영향을 받아 명암차이가 큰 구간으로 가는 과정에서 중간 단계가 생기는 현상(모자이크의 대표적인 방법)

#### linear filter

